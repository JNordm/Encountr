{% extends "base.html" %}
{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>{% block title %}Modifier votre profil - Encountr{% endblock %}</title>
	{% block urls %}
	<link rel="stylesheet" type="text/css" href="{% static 'accounts/edit.css' %}">
	<script type="text/javascript" src="{% static 'accounts/edit.js' %}"></script>
	{% endblock %}
</head>
<body>
	{% block section %}
	{% if not request.user.contrat %}
	<h1>Compléter votre profil</h1>
	{% else %}
	<h1>Modifier votre profil</h1>
	{% endif %}
	{{form.errors}}
		<form method="POST" enctype="multipart/form-data">
			{% csrf_token %}	
			{% if not request.user.contrat %}

				<div class="status" style="visibility: hidden;">
					<h4>Modifier votre statut</h4>
					<p>Je recherche {{form.role}}</p>
				</div>

				<h4>Modifier votre prénom</h4>
				{{form.first_name}}

				<h4>Modifier votre nom de famille</h4>
				{{form.last_name}}

				<h4>Modifier votre email</h4>
				{{form.email}}

				<h4>Modifier votre date de naissance</h4>
				{{form.birthdate}}

				<h4>Ajouter votre profession</h4>
				{{form.profession}}

				<h4>Ajouter votre localisation</h4>
				{{form.location}}

				<h4>Ajouter votre photo de profil</h4>
				{{form.profile_pic}}

				{% if request.user.role == "Employee" %}

					<h4>Ajouter votre établissement de formation</h4>
					{{form.formation}}

					<h4>Ajouter votre diplôme le plus élevé (ou certification professionelle)</h4>
					{{form.diplome}}

					<h4>Ajouter votre type de contrat souhaité</h4>
					{{form.contrat}}

					<h4>Ajouter votre CV (facultatif)</h4>
					{{form.curriculum_vitae}}

					<h4>Premier emploi</h4>
					{{form.is_first_job}}

					<p>Je n'ai jamais eu d'expérience professionnelle</p>
					<input type="radio" onclick= 'isfirstJob()' value= 'never' name = 'firstjob'>
					
					<p>J'ai déjà eu une expérience professionnelle</p>
					<input type = "radio" onclick = 'isnotfirstJob()' value= 'already' name = 'firstjob' checked>


					<div class="displayornot">
						<h4>Dernière entreprise</h4>
						{{form.last_company}}
					</div>

					<div class="iffirstjob">
						<h4>Date de sortie d'études</h4>
						{{form.studiesend}}
					</div>


				{% elif request.user.role == "Employer" %}

				{% else %}

				{% endif %}

			{% else %}

				<div class="status" style="visibility: hidden;">
					<h4>Modifier votre statut</h4>
					<p>Je recherche {{form.role}}</p>
				</div>

				<h4>Modifier votre prénom</h4>
				{{form.first_name}}

				<h4>Modifier votre nom de famille</h4>
				{{form.last_name}}

				<h4>Modifier votre email</h4>
				{{form.email}}

				<h4>Modifier votre date de naissance</h4>
				{{form.birthdate}}

				<h4>Modifier votre profession</h4>
				{{form.profession}}

				<h4>Modifier votre localisation</h4>
				{{form.location}}

				<h4>Modifier votre photo de profil</h4>
				{{form.profile_pic}}

				{% if request.user.role == "Employee" %}

					<h4>Modifier votre établissement de formation</h4>
					{{form.formation}}

					<h4>Modifier votre diplôme le plus élevé (ou certification professionelle)</h4>
					{{form.diplome}}

					<h4>Modifier votre type de contrat souhaité</h4>
					{{form.contrat}}

					<h4>Modifier votre CV (facultatif)</h4>
					{{form.curriculum_vitae}}

					<h4>Premier emploi</h4>
					{{form.is_first_job}}

					<h4>Dernière entreprise</h4>
					{{form.last_company}}

				{% elif request.user.role == "Employer" %}

					<h4>Modifier votre type de contrat souhaité</h4>
					{{form.contrat}}
					
				{% else %}

				{% endif %}

			{% endif %}
		<input type="submit" value="Valider">
		</form>

		<script type="text/javascript">
			function isfirstJob(){
				let displayOrNot = document.querySelector('.displayornot');
				let iffirstJob = document.querySelector('.iffirstjob');
				displayOrNot.style.display = 'none';
				iffirstJob.style.display = 'block';

			}

			function isnotfirstJob(){
				let iffirstJob = document.querySelector('.iffirstjob');
				let displayOrNot = document.querySelector('.displayornot');
				iffirstJob.style.display = 'none';
				displayOrNot.style.display = 'block';
			}
		</script>
	{% endblock %}
</body>
</html>